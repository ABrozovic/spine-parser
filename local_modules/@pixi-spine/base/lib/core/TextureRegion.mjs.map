{"version":3,"file":"TextureRegion.mjs","sources":["../../src/core/TextureRegion.ts"],"sourcesContent":["import type { Texture, Rectangle } from '@pixi/core';\r\n\r\n/**\r\n * @public\r\n */\r\nexport function filterFromString(text: string): TextureFilter {\r\n    switch (text.toLowerCase()) {\r\n        case 'nearest':\r\n            return TextureFilter.Nearest;\r\n        case 'linear':\r\n            return TextureFilter.Linear;\r\n        case 'mipmap':\r\n            return TextureFilter.MipMap;\r\n        case 'mipmapnearestnearest':\r\n            return TextureFilter.MipMapNearestNearest;\r\n        case 'mipmaplinearnearest':\r\n            return TextureFilter.MipMapLinearNearest;\r\n        case 'mipmapnearestlinear':\r\n            return TextureFilter.MipMapNearestLinear;\r\n        case 'mipmaplinearlinear':\r\n            return TextureFilter.MipMapLinearLinear;\r\n        default:\r\n            throw new Error(`Unknown texture filter ${text}`);\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport function wrapFromString(text: string): TextureWrap {\r\n    switch (text.toLowerCase()) {\r\n        case 'mirroredtepeat':\r\n            return TextureWrap.MirroredRepeat;\r\n        case 'clamptoedge':\r\n            return TextureWrap.ClampToEdge;\r\n        case 'repeat':\r\n            return TextureWrap.Repeat;\r\n        default:\r\n            throw new Error(`Unknown texture wrap ${text}`);\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport enum TextureFilter {\r\n    Nearest = 9728, // WebGLRenderingContext.NEAREST\r\n    Linear = 9729, // WebGLRenderingContext.LINEAR\r\n    MipMap = 9987, // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\r\n    MipMapNearestNearest = 9984, // WebGLRenderingContext.NEAREST_MIPMAP_NEAREST\r\n    MipMapLinearNearest = 9985, // WebGLRenderingContext.LINEAR_MIPMAP_NEAREST\r\n    MipMapNearestLinear = 9986, // WebGLRenderingContext.NEAREST_MIPMAP_LINEAR\r\n    MipMapLinearLinear = 9987, // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport enum TextureWrap {\r\n    MirroredRepeat = 33648, // WebGLRenderingContext.MIRRORED_REPEAT\r\n    ClampToEdge = 33071, // WebGLRenderingContext.CLAMP_TO_EDGE\r\n    Repeat = 10497, // WebGLRenderingContext.REPEAT\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class TextureRegion {\r\n    texture: Texture;\r\n\r\n    // thats for overrides\r\n    size: Rectangle = null;\r\n\r\n    names: string[] = null;\r\n    values: number[][] = null;\r\n\r\n    renderObject: any = null;\r\n\r\n    get width(): number {\r\n        const tex = this.texture;\r\n\r\n        if (tex.trim) {\r\n            return tex.trim.width;\r\n        }\r\n\r\n        return tex.orig.width;\r\n    }\r\n\r\n    get height(): number {\r\n        const tex = this.texture;\r\n\r\n        if (tex.trim) {\r\n            return tex.trim.height;\r\n        }\r\n\r\n        return tex.orig.height;\r\n    }\r\n\r\n    get u(): number {\r\n        return (this.texture as any)._uvs.x0;\r\n    }\r\n\r\n    get v(): number {\r\n        return (this.texture as any)._uvs.y0;\r\n    }\r\n\r\n    get u2(): number {\r\n        return (this.texture as any)._uvs.x2;\r\n    }\r\n\r\n    get v2(): number {\r\n        return (this.texture as any)._uvs.y2;\r\n    }\r\n\r\n    get offsetX(): number {\r\n        const tex = this.texture;\r\n\r\n        return tex.trim ? tex.trim.x : 0;\r\n    }\r\n\r\n    get offsetY(): number {\r\n        // console.warn(\"Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on.\");\r\n        return this.spineOffsetY;\r\n    }\r\n\r\n    get pixiOffsetY(): number {\r\n        const tex = this.texture;\r\n\r\n        return tex.trim ? tex.trim.y : 0;\r\n    }\r\n\r\n    get spineOffsetY(): number {\r\n        const tex = this.texture;\r\n\r\n        return this.originalHeight - this.height - (tex.trim ? tex.trim.y : 0);\r\n    }\r\n\r\n    get originalWidth(): number {\r\n        return this.texture.orig.width;\r\n    }\r\n\r\n    get originalHeight(): number {\r\n        return this.texture.orig.height;\r\n    }\r\n\r\n    get x(): number {\r\n        return this.texture.frame.x;\r\n    }\r\n\r\n    get y(): number {\r\n        return this.texture.frame.y;\r\n    }\r\n\r\n    get rotate(): boolean {\r\n        return this.texture.rotate !== 0;\r\n    }\r\n\r\n    get degrees() {\r\n        return (360 - this.texture.rotate * 45) % 360;\r\n    }\r\n}\r\n"],"names":["TextureFilter","TextureWrap"],"mappings":"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"}