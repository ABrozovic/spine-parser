{"version":3,"file":"Spine.mjs","sources":["../src/Spine.ts"],"sourcesContent":["import { IAnimationState, IAnimationStateData, ISkeleton, ISkeletonData, SpineBase } from '@pixi-spine/base';\r\nimport * as spine38 from '@pixi-spine/runtime-3.8';\r\nimport * as spine37 from '@pixi-spine/runtime-3.7';\r\nimport * as spine41 from '@pixi-spine/runtime-4.1';\r\nimport { detectSpineVersion, SPINE_VERSION } from './versions';\r\n\r\n/**\r\n * @public\r\n */\r\nexport class Spine extends SpineBase<ISkeleton, ISkeletonData, IAnimationState, IAnimationStateData> {\r\n    createSkeleton(spineData: ISkeletonData) {\r\n        const ver = detectSpineVersion(spineData.version);\r\n        let spine: any = null;\r\n\r\n        if (ver === SPINE_VERSION.VER37) {\r\n            spine = spine37;\r\n        }\r\n        if (ver === SPINE_VERSION.VER38) {\r\n            spine = spine38;\r\n        }\r\n        if (ver === SPINE_VERSION.VER40 || ver === SPINE_VERSION.VER41) {\r\n            spine = spine41;\r\n        }\r\n        if (!spine) {\r\n            const error = `Cant detect version of spine model ${spineData.version}`;\r\n\r\n            console.error(error);\r\n        }\r\n        this.skeleton = new spine.Skeleton(spineData);\r\n        this.skeleton.updateWorldTransform();\r\n        this.stateData = new spine.AnimationStateData(spineData);\r\n        this.state = new spine.AnimationState(this.stateData);\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AASO,MAAM,cAAc,SAA0E,CAAA;AAAA,EACjG,eAAe,SAA0B,EAAA;AACrC,IAAM,MAAA,GAAA,GAAM,kBAAmB,CAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAChD,IAAA,IAAI,KAAa,GAAA,IAAA,CAAA;AAEjB,IAAI,IAAA,GAAA,KAAQ,cAAc,KAAO,EAAA;AAC7B,MAAQ,KAAA,GAAA,OAAA,CAAA;AAAA,KACZ;AACA,IAAI,IAAA,GAAA,KAAQ,cAAc,KAAO,EAAA;AAC7B,MAAQ,KAAA,GAAA,OAAA,CAAA;AAAA,KACZ;AACA,IAAA,IAAI,GAAQ,KAAA,aAAA,CAAc,KAAS,IAAA,GAAA,KAAQ,cAAc,KAAO,EAAA;AAC5D,MAAQ,KAAA,GAAA,OAAA,CAAA;AAAA,KACZ;AACA,IAAA,IAAI,CAAC,KAAO,EAAA;AACR,MAAM,MAAA,KAAA,GAAQ,sCAAsC,SAAU,CAAA,OAAA,CAAA,CAAA,CAAA;AAE9D,MAAA,OAAA,CAAQ,MAAM,KAAK,CAAA,CAAA;AAAA,KACvB;AACA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAI,KAAM,CAAA,QAAA,CAAS,SAAS,CAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,SAAS,oBAAqB,EAAA,CAAA;AACnC,IAAA,IAAA,CAAK,SAAY,GAAA,IAAI,KAAM,CAAA,kBAAA,CAAmB,SAAS,CAAA,CAAA;AACvD,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,KAAM,CAAA,cAAA,CAAe,KAAK,SAAS,CAAA,CAAA;AAAA,GACxD;AACJ;;;;"}